<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文本高亮</title>
     <meat name="viewport"content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum  scale=1.0"/>
  <link rel="stylesheet" href="highlight/styles/agate.css">
  <script src="highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src='js/jquery.js'></script>
  <style>
	html, body {
	  margin: 0;
	  padding: 0;
	  width: 100%;
	  height: 80%;
	  font-size: 1.2em;
	}

	.main {
	  width: 90%;
	  height: 80%;
	  margin: 30px auto;
	}

	textarea {
	  font-size: 1em;
	}

	input {
	  width: 120px;
	  height: 50px;
	  margin-top: 10px;
	  font-size: 0.8em;
	}

	pre {
	  margin: 10px 0;
	}
  </style>
</head>
<body>
<div class="main">
	<textarea name="" cols="30" rows="5">var a ='hello world!';</textarea><br>
	<input type="button" value="添加代码">
</div>
</body>
<script>
$(function(){

	$('input[type="button"]').click(function(){
		var $code = $("<div><pre class='javascript'></pre></div>"),
		$txt = $('.main textarea');

		if($txt.val() !== ''){
			$code.find('pre').html($txt.val());
			hljs.highlightBlock($code.find('pre').get(0));
			$('.main').append($code);
		}
	});
});
</script>

</html>